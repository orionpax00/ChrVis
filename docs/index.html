<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>ChrVis</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
    <script src="js/three.min.js"></script>
    <script src="js/WEBGL.js"></script>
    <script src="js/OrbitControls.js"></script>
	</head>
	<body>
		<script>
      if( WEBGL.isWebGLAvailable() ){
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 1000 );
        var controls = new THREE.OrbitControls( camera );
        var renderer = new THREE.WebGLRenderer();

        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );


        var geometry0 = new THREE.Geometry()
        geometry0.vertices = [new THREE.Vector3(3, 3, 3)];

        // var spheres = [];
        // for (var i=0 ; i<geometry0.vertices.length ; i++){
        //   var sphereGeometry = new THREE.SphereGeometry(0.2,10,10);
        //   var sphereMaterial = new THREE.MeshBasicMaterial({color: 0xff0000,opacity:1});
        //   var spheres[i] = new THREE.Mesh(sphereGeometry,sphereMaterial);
        //   spheres[i].position.set(geometry0.vertices[i].x,
        //                       geometry0.vertices[i].y,
        //                       geometry0.vertices[i].z);
        //   scene.add(spheres[i]);
        // }

        var sphereGeometry = new THREE.SphereGeometry(2,50,50);
        var sphereMaterial = new THREE.MeshBasicMaterial({color: 0xff0000,opacity:1});
        var sphere = new THREE.Mesh(sphereGeometry,sphereMaterial);

        var sphereMaterial2 = new THREE.MeshBasicMaterial({color: 0xffff00,opacity:1});
        var sphere2 = new THREE.Mesh(sphereGeometry,sphereMaterial2);
        sphere2.position.set(geometry0.vertices[0].x,
                              geometry0.vertices[0].y,
                              geometry0.vertices[0].z);

        scene.add(sphere);
        scene.add(sphere2);


        //controls.update() must be called after any manual changes to the camera's transform
        camera.position.set( 0, 20, 100 );
        controls.update();

  			var animate = function () {
  				requestAnimationFrame( animate );
          sphere.rotation.x += 0.01;
          sphere.rotation.y += 0.01;

          renderer.render( scene, camera );
  			};

  			animate();
      }

      else {
      	var warning = WEBGL.getWebGLErrorMessage();
      	document.getElementById( 'container' ).appendChild( warning );
      }
		</script>
	</body>
</html>
